MACRO(USE_FREEIMAGE)
  COVISE_FIND_PACKAGE(Freeimage)
  IF ((NOT FREEIMAGE_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing Freeimage")
    RETURN()
  ENDIF((NOT FREEIMAGE_FOUND) AND (${ARGC} LESS 1))
  IF(NOT FREEIMAGE_USED AND FREEIMAGE_FOUND)
    SET(FREEIMAGE_USED TRUE)
    INCLUDE_DIRECTORIES(SYSTEM ${FREEIMAGE_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${FREEIMAGE_LIBRARIES})
  ENDIF()
ENDMACRO(USE_FREEIMAGE)

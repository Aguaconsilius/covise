MACRO(USE_WIRINGPI)
  FIND_PACKAGE(WiringPi)
  IF ((NOT WIRINGPI_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing wiringPi")
    RETURN()
  ENDIF((NOT WIRINGPI_FOUND) AND (${ARGC} LESS 1))
  IF(NOT WIRINGPI_USED AND WIRINGPI_FOUND)
    SET(WIRINGPI_USED TRUE)
    INCLUDE_DIRECTORIES(${WIRINGPI_INCLUDE_DIR})
	ADD_DEFINITIONS(-DHAVE_WIRINGPI)
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${WIRINGPI_LIBRARIES})
  ENDIF()
ENDMACRO(USE_WIRINGPI)

